## 在此之前
> 这里的内容需要您拥有一定的`Git`基础，了解什么是分支（Branch），最好有过使用 Git 进行提交（Commit）、拉取（Pull）和推送（Push）的经验。

## 关于拉取请求
喔，您都看到这里来了，说明是有兴趣写点什么啦。在这里我会就本仓库的拉取请求做一些说明。所谓拉取请求（Pull Request，PR），有的地方（如 GitLab）也称作合并请求（Merge Request，MR）。但其实这俩都是一个东西，名字不同是因为取名的来源不一致。如下所示：
```bash
git pull
git merge
```
在执行分支合并的时候，我们实际上执行了以上两步，而 Github 选择第一步，称为 PR，GitLab 选择第二步，称为 MR。

## 采取 PR 模式的必要性
Git 是基于分支进行开发的，这也给予了各个分支的独立性，各个作者可以在自己的分支上天马行空。但我们需要保证主分支（通常是 master）的稳定，意味着所有对于主分支进行的修改必须慎之又慎。因此使用 PR 的模式，可以使得每一次对于主分支的修改都经过严格的测试与审查，确保主分支上的代码是能够正常运行的。毕竟不能像个人项目一样，直接在主分支上随意修改。

## 本仓库采取的 PR 设置
> 本仓库的 master 主分支设置为了**保护分支**，因此不可以直接在主分支上进行提交操作，必须通过 PR 的方式提交自己的更改

### Require pull request reviews before merging（合并前必需拉取请求审查）
每次拉取请求都会要求**至少一个**具有仓库写入权限的协作者的审批才能合并。在本仓库内的所有成员都可以对所有的拉取请求进行审查（Review）。

在 Review 中可以给出三种意见：Approve（同意）、Comment（评论）、Request Changes（请求更改），但需要注意的是，同意和请求更改这两种意见不能在自己为 PR 作者时给出。

在 Review 时可以选中具体的单行添加评论，指出您认为需要修改的问题并进行讨论。
#### Dismiss stale pull request approvals when new commits are pushed（推送新提交时忽略旧拉取请求批准）
在拉取请求被同意之后，如果在源分支上存在新的提交，将会自动忽略掉这个同意批准。当然，请求更改不会被自动忽略，您可以显式地忽略掉（dismiss）或是重新在新提交时请求审查。

#### Require review from Code Owners（需要代码所有者审查）
仓库设置了代码所有者（Code Owners），代码所有者需要对对应的更改负责。因此所有涉及到对应目录下文件更改都需要他们进行审核。目前的代码所有者以及相关的负责部分如下：

|代码所有者|负责目录|对应内容|
|--|--|--|
|[Rinsan](https://github.com/DZDcyj)|*|所有代码与资源|
|[仙人掌](https://github.com/Cactusssssssss)|/audio、/lang、/image|文本与图片语音资源|

因此对应部分的修改至少需要获得以上负责人的同意才可合入。

### Require status checks to pass before merging（合并前必需状态检查通过）
拉取请求中关联了对应的 Actions，意味着需要进行静态代码检查，通过之后方可合并。通常而言是一些语法上的问题，如果您认为存在需要忽略的类型，请联系我讨论。

#### Require branches to be up to date before merging（要求分支在合并前保持最新）
这一项要求源分支在合并之前必须是基于最新分支的，可以通过拉取请求界面的更新分支（Update Branch）来进行主分支的更新，如果存在合并冲突，请在本地进行解决后重新提交。
